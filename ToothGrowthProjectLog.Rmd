---
title: "Tooth Growth EDA & Inference â€” Project Log"
author: "Brian Davies"
date: "19 September 2014"
output: pdf_document
---

## Data Access and EDA

We're obviously supposed to figure out whether `len` depends on `dose` and
whether the dependency further depends on `supp`. Former is a real variable, latter
is a categorical variable, so plot `len` against `dose` for each value of `supp`

```{r data_access_and_EDA, cache = TRUE, warning = FALSE, message = FALSE }
data( "ToothGrowth" )
library( "ggplot2" )
qplot( dose, len, data=ToothGrowth, colour = supp, size = 2 ) + geom_smooth( size = 1 )
```

Looks like a pretty clear increasing relationship, with `len` for `supp` == OJ > `len`
for `supp` == VC at the lower end, converging at the higher end, also some
saturation setting in for `dose` > 1.0 for `supp` == OJ

## Summarizing the dataset

```{r ToothGrowth_dataset_summary, cache = TRUE }
table(ToothGrowth$supp,ToothGrowth$dose)
```

We have a total of 60 data points, evenly distributed between the two supplements
{VC, OJ} (_Vitamin C_ and _Orange Juice_, I'm guessing) and three dose levels,
{0.5, 1.0 and 2.0} -- no control tests at dose rate of zero, no tests at 1.5. This
gives 6 combinations of `supp` and `dose` with ten tests for each combination. In
this case the measurements can't be interpreted as paired, so each set of ten
tests is a separate sample.

## Comparing the two supplements at each dose level

At each dose level, do a _two-sided_ test with the null hypothesis that
the two supplements have the same effect (three tests in all)

```{r compare_OJ_and_VC_at_each_dose, cache = TRUE}
for( dose in c(0.5,1.0,2.0)){
  message( '## Comparing OJ and VC for dose = ', dose )
  thisT <- t.test( ToothGrowth[((ToothGrowth$supp=='OJ')&(ToothGrowth$dose==dose)),'len'],
    ToothGrowth[((ToothGrowth$supp=='VC')&(ToothGrowth$dose==dose)),'len'])
  message( sprintf( "## Results: p-value = %.5f, null-hypothesis CI = (%.2f, %.2f)",
    thisT$p.value, thisT$conf.int[1], thisT$conf.int[2] ) ) }
```

## Comparing different dose levels for each supplement
